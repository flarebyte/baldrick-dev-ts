# Repository Guidelines

## Project Structure & Module Organization
- `src/`: TypeScript source (ESM). CLI entry: `src/cli.mts`; library entry: `src/index.ts`.
- `test/`: Jest unit tests (TypeScript). Example: `text-helper.test.ts`.
- `dist/`: Build output (generated by `yarn build`).
- `report/`: Generated reports (e.g., Typedoc JSON, CI artifacts).
- `.github/` workflows and `.vscode/` snippets. See `TECHNICAL_DESIGN.md` for a high‑level overview.

## Build, Test, and Development Commands
- `yarn build`: Compile TS to ESM in `dist/`.
- `yarn test`: Run unit tests (Jest via baldrick CLI).
- `yarn test:cov`: Run tests with coverage.
- `yarn lint`: Lint source and tests.
- `yarn lint:fix`: Auto-fix lint issues.
- `yarn md` / `yarn md:fix`: Check/fix Markdown lint.
- `yarn ready`: Lint, tests+coverage, markdown checks, audit/outdated, release checks.
- `yarn h`: Show frequently used commands (`commands.txt`).

## Coding Style & Naming Conventions
- Indentation: 2 spaces (`.editorconfig`).
- Prettier: 80 cols, single quotes, semicolons, trailing commas (`.prettierrc.json`).
- ESM only (`"type": "module"`); use `import`/`export`.
- Filenames: kebab-case for modules (e.g., `eslint-helper.ts`), tests end with `.test.ts`.
- Keep functions small and pure; prefer explicit types; avoid one-letter identifiers.

## Testing Guidelines
- Framework: Jest (via `baldrick-dev-ts`).
- Naming: `<unit>.test.ts` near `test/`.
- Run locally: `yarn test` or `yarn test:cov` for coverage.
- Snapshot updates: `yarn test:fix`.
- Aim for meaningful coverage; add tests with new features and bug fixes.

## Commit & Pull Request Guidelines
- Commits: short, imperative subject; reference issues like `(#29)` when applicable.
- Scope descriptive commits (e.g., “Adds support for GitHub markdown”).
- PRs: include purpose, linked issues, before/after notes, and CLI output or screenshots when UI/CLI behavior changes.
- Ensure `yarn ready` passes before requesting review.

## Security & Configuration Tips
- Node.js >= 16 required. Do not commit secrets; prefer environment variables.
- Generated folders (`dist/`, `report/`) should not be edited manually.
- For local docs: `yarn doc` (produces `report/doc.json`).

## Agent-Specific Instructions
- Respect this guide, `.editorconfig`, and Prettier settings.
- Keep changes minimal and focused; avoid API changes without prior discussion.
- Update tests and docs when altering behavior.
